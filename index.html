<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surat Bunga - Pesan Untukmu</title>
    <link rel="stylesheet" href="assets/css/styles.css?v=3">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- SweetAlert2 for Popups -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- HTML2Canvas for Screenshot -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <!-- Firebase SDK (Compat version for easier vanilla usage) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>

<body class="not-loaded">

    <!-- 1. Preload & Start Screen -->
    <div id="start-overlay">
        <div class="preload-content">
            <div class="love-icon">ğŸ¥¹</div>
            <h3>Surat kecil untuk temen temen</h3>
            <p class="hint">Maaf ini akan agak cringe, tapi klik yah..</p>
            <p class="volume-hint">(Gedein volume ya)</p>
        </div>
    </div>

    <!-- 2. Intro Layer (Surat, Foto, Slider) -->
    <div id="intro-layer">
        <!-- Custom Wallpaper -->
        <img id="intro-wallpaper" src="" alt="Wallpaper"
            style="position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; z-index: -1; filter: brightness(0.6);">

        <div class="intro-content">
            <!-- Custom Small Photo (Full image, bigger size) -->
            <img id="small-photo" src="" alt="Profile"
                style="max-width: 180px; max-height: 220px; object-fit: contain; margin-bottom: 10px; filter: drop-shadow(0 0 20px rgba(255,255,255,0.6));">

            <h2 id="hai">Haii Semuanya, disini lumi si cinnamoroll !!</h2>
            <h3 id="hi">Scrool kesamping ya !! â¡ï¸</h3>

            <div id="slider">
                <p>Lumi suka deh lagu ini.. lagunya tentang kehidupan dewasa...</p>
                <p>kehidupan dewasa yang ternyata nggak sesuai harapan kita</p>
                <p>tumbuh besar itu ternyata banyak Pahitnya yah</p>
                <p>tapi..</p>
                <p>Meski pahit..</p>
                <p>Lumi yakin Nggak sendiri kok..</p>
                <p>kan ada kalian... kamu juga yah.. kamu nggak sendiri</p>
                <p>Meski Virtual aja sih.. hehe tapi kami disini</p>
                <p>wait ada pesan dari senja ... ğŸ“¨ğŸ“¨</p>
                <p>Aku bahagia bisa kenal sama kalian. </p>
                <p>Rasanya kayak dapet keluarga baru dalam hidup aku. Seru seruan bareng, ketawa bareng</p>
                <p>dan di saat aku lagi ngerasa sedih, kalian ada..</p>
                <p>nemenin..</p>
                <p>dengerin..</p>
                <p>dan berusaha bikin aku ngerasa lebih baik dengan cara kalian masing-masing.</p>
                <p>Hal-hal sederhana yang kalian lakuin itu punya arti besar buat aku.</p>
                <p>Terima kasih ya, atas perhatian, waktu, dan kehadiran kalian. </p>
                <p>Aku beneran bersyukur ketemu kalian. â˜ºï¸</p>
                <p>Kalau pesan dari Kimie... ah dia kelamaan mikir ğŸ˜¾</p>
                <p>tapi aku yakin sama kok kayak yang dirasakan senja</p>
                <p>jadi..</p>
                <p>Shou..</p>
                <p>Kak Nanad..</p>
                <p>Zee..</p>
                <p>rain..</p>
                <p>dan yang lainya..</p>
                <p>terimakasih banyak yah !! dan jangan pernah ngerasa sendiri yah..</p>
                <p>nih buat kita ğŸ’ğŸŒ¸ğŸ’®ğŸª·ğŸŒ¹ğŸª»ğŸŒ·ğŸŒ¼ğŸŒ»ğŸŒºğŸ’ğŸŒ¸ğŸ’®ğŸª·ğŸŒ¹ğŸª»ğŸŒ·ğŸŒ¼ğŸŒ»ğŸŒº</p>
                <p>Lumi Belajar Banyak dari kalian..</p>

                <!-- Last Item: Gift -->
                <p class="gift-box" onclick="startPopUpSequence()">Klik kado nya <span
                        style="font-size: 1.5em; animation: bounce 1s infinite alternate; margin-left: 10px;">ğŸ</span>
                </p>
            </div>
        </div>
    </div>

    <!-- 3. Flower Container (Hidden Initially) -->
    <div id="flower-container" style="display: none; opacity: 0; transition: opacity 2s ease-in;">
        <div class="night"></div>
        <div class="flowers">
            <!-- Flower 1 -->
            <div class="flower flower--1">
                <div class="flower__leafs flower__leafs--1">
                    <div class="flower__leaf flower__leaf--1"></div>
                    <div class="flower__leaf flower__leaf--2"></div>
                    <div class="flower__leaf flower__leaf--3"></div>
                    <div class="flower__leaf flower__leaf--4"></div>
                    <div class="flower__white-circle"></div>
                    <div class="flower__light flower__light--1"></div>
                    <div class="flower__light flower__light--2"></div>
                    <div class="flower__light flower__light--3"></div>
                    <div class="flower__light flower__light--4"></div>
                    <div class="flower__light flower__light--5"></div>
                    <div class="flower__light flower__light--6"></div>
                    <div class="flower__light flower__light--7"></div>
                    <div class="flower__light flower__light--8"></div>
                </div>
                <div class="flower__line">
                    <div class="flower__line__leaf flower__line__leaf--1"></div>
                    <div class="flower__line__leaf flower__line__leaf--2"></div>
                    <div class="flower__line__leaf flower__line__leaf--3"></div>
                    <div class="flower__line__leaf flower__line__leaf--4"></div>
                    <div class="flower__line__leaf flower__line__leaf--5"></div>
                    <div class="flower__line__leaf flower__line__leaf--6"></div>
                </div>
            </div>
            <!-- Flower 2 -->
            <div class="flower flower--2">
                <div class="flower__leafs flower__leafs--2">
                    <div class="flower__leaf flower__leaf--1"></div>
                    <div class="flower__leaf flower__leaf--2"></div>
                    <div class="flower__leaf flower__leaf--3"></div>
                    <div class="flower__leaf flower__leaf--4"></div>
                    <div class="flower__white-circle"></div>
                    <div class="flower__light flower__light--1"></div>
                    <div class="flower__light flower__light--2"></div>
                    <div class="flower__light flower__light--3"></div>
                    <div class="flower__light flower__light--4"></div>
                    <div class="flower__light flower__light--5"></div>
                    <div class="flower__light flower__light--6"></div>
                    <div class="flower__light flower__light--7"></div>
                    <div class="flower__light flower__light--8"></div>
                </div>
                <div class="flower__line">
                    <div class="flower__line__leaf flower__line__leaf--1"></div>
                    <div class="flower__line__leaf flower__line__leaf--2"></div>
                    <div class="flower__line__leaf flower__line__leaf--3"></div>
                    <div class="flower__line__leaf flower__line__leaf--4"></div>
                </div>
            </div>
            <!-- Flower 3 -->
            <div class="flower flower--3">
                <div class="flower__leafs flower__leafs--3">
                    <div class="flower__leaf flower__leaf--1"></div>
                    <div class="flower__leaf flower__leaf--2"></div>
                    <div class="flower__leaf flower__leaf--3"></div>
                    <div class="flower__leaf flower__leaf--4"></div>
                    <div class="flower__white-circle"></div>
                    <div class="flower__light flower__light--1"></div>
                    <div class="flower__light flower__light--2"></div>
                    <div class="flower__light flower__light--3"></div>
                    <div class="flower__light flower__light--4"></div>
                    <div class="flower__light flower__light--5"></div>
                    <div class="flower__light flower__light--6"></div>
                    <div class="flower__light flower__light--7"></div>
                    <div class="flower__light flower__light--8"></div>
                </div>
                <div class="flower__line">
                    <div class="flower__line__leaf flower__line__leaf--1"></div>
                    <div class="flower__line__leaf flower__line__leaf--2"></div>
                    <div class="flower__line__leaf flower__line__leaf--3"></div>
                    <div class="flower__line__leaf flower__line__leaf--4"></div>
                </div>
            </div>

            <!-- Extra details -->
            <div class="grow-ans" style="--d:1.2s">
                <div class="flower__g-long">
                    <div class="flower__g-long__top"></div>
                    <div class="flower__g-long__bottom"></div>
                </div>
            </div>
            <div class="growing-grass">
                <div class="flower__grass flower__grass--1">
                    <div class="flower__grass--top"></div>
                    <div class="flower__grass--bottom"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--1"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--2"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--3"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--4"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--5"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--6"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--7"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--8"></div>
                    <div class="flower__grass__overlay"></div>
                </div>
            </div>
            <div class="growing-grass">
                <div class="flower__grass flower__grass--2">
                    <div class="flower__grass--top"></div>
                    <div class="flower__grass--bottom"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--1"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--2"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--3"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--4"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--5"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--6"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--7"></div>
                    <div class="flower__grass__leaf flower__grass__leaf--8"></div>
                    <div class="flower__grass__overlay"></div>
                </div>
            </div>
            <div class="grow-ans" style="--d:2.4s">
                <div class="flower__g-right flower__g-right--1">
                    <div class="leaf"></div>
                </div>
            </div>
            <div class="grow-ans" style="--d:2.8s">
                <div class="flower__g-right flower__g-right--2">
                    <div class="leaf"></div>
                </div>
            </div>
            <div class="grow-ans" style="--d:2.8s">
                <div class="flower__g-front">
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--1">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--2">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--3">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--4">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--5">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--6">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--7">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--8">
                        <div class="flower__g-front__leaf"></div>
                    </div>
                    <div class="flower__g-front__line"></div>
                </div>
            </div>
            <div class="grow-ans" style="--d:3.2s">
                <div class="flower__g-fr">
                    <div class="leaf"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--1"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--2"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--3"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--4"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--5"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--6"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--7"></div>
                    <div class="flower__g-fr__leaf flower__g-fr__leaf--8"></div>
                </div>
            </div>
            <div class="long-g long-g--0">
                <div class="grow-ans" style="--d:3s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:2.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3.4s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--1">
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:3.8s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:4s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--2">
                <div class="grow-ans" style="--d:4s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:4.4s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:4.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--3">
                <div class="grow-ans" style="--d:4s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--4">
                <div class="grow-ans" style="--d:4s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--5">
                <div class="grow-ans" style="--d:4s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--6">
                <div class="grow-ans" style="--d:4.2s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.4s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:4.6s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:4.8s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
            <div class="long-g long-g--7">
                <div class="grow-ans" style="--d:3s">
                    <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:3.2s">
                    <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3.5s">
                    <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                    <div class="leaf leaf--3"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio (Gunakan path RELATIF, taruh Lagu.mp3 di folder yang sama atau assets/music/) -->
    <audio id="bg-music" loop>
        <source src="assets\music\Lagu.mp3" type="audio/mpeg">
    </audio>

    <!-- UI Layer: Save and View Messages buttons -->
    <div id="ui-layer" style="display: none; opacity: 0; transition: opacity 1s ease-in;">
        <div style="position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); text-align: center;">
            <p style="color: rgba(255,255,255,0.8); margin-bottom: 15px; font-size: 0.9em;">Semangat yah !! ğŸŒ¸</p>
            <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                <button id="capture-btn" class="capture-btn" title="Simpan sebagai gambar">ğŸ“¸ Mode Screenshot</button>
                <button id="view-messages-btn" class="capture-btn" title="Lihat semua pesan"
                    style="background: linear-gradient(45deg, #ff4757, #ff6b81);">ğŸ’Œ Lihat Pesan</button>
            </div>
        </div>
    </div>

    <!-- App Logic -->
    <script src="assets/js/app.js"></script>
</body>

</html>